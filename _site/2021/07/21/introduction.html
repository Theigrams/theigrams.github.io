<!DOCTYPE html>
<html lang="en">

  <head>
     





 

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>How do I build this blog?</title>

    <meta name="description" content="本文主要介绍了这个博客的搭建过程。">

    <meta content="Jin's Blog" property="og:site_name"> 
    <meta content="How do I build this blog?" property="og:title">  
    <meta content="article" property="og:type">  
    <meta content="本文主要介绍了这个博客的搭建过程。" property="og:description">  
    <meta content="http://localhost:4000/2021/07/21/introduction.html" property="og:url">  
    <meta content="2021-07-21T20:00:00+08:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">    
    <meta content="blog" property="article:tag"> 
    <meta content="html" property="article:tag">  

    <link rel="shortcut icon" href="/blog/assets/bloglogo.png">
    <link rel="stylesheet" href="/blog/assets/css/main.css">
    <link rel="canonical" href="http://localhost:4000/blog/2021/07/21/introduction.html">

    <!-- For Latex -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [
                    ['$', '$'],
                    ['\\(', '\\)']
                ]
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>



    <!-- Google Analytics -->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-8161570-6', 'auto');
        ga('send', 'pageview');
    </script>


</head>

  <body>

    <header class="site-header" role="banner" id='header-bar'>

    <div class="wrapper">
        
        <a class="site-title" href="/blog/">Jin&#39;s Blog</a>

        <!-- <nav class="site-nav">
            <a class="page-link" href="http://lilianweng.github.io" target="_blank">&#x1f349; About</a>
        </nav> -->
        <nav class="site-nav">
            <a class="page-link" href="/blog/contact.html">&#x1f93a; Contact</a>
        </nav>
        <!-- <nav class="site-nav">
            <a class="page-link" href="/blog/FAQ.html">&#x1F64B; FAQ</a>
        </nav> -->
        <!-- <nav class="site-nav">
            <a class="page-link" href="/blog/log.html">&#x231b; Log</a>
        </nav> -->
        <nav class="site-nav">
            <a class="page-link" href="/blog/archive.html">&#x231b; Archive</a>
        </nav>

    </div>

</header>

    <!-- Back to top button -->
    <script src="/blog/assets/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop()</script>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">How do I build this blog?</h1>
        <p class="post-meta">

            <time datetime="2021-07-21T20:00:00+08:00" itemprop="datePublished">
        
        Jul 21, 2021
        </time>

            <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        by <span itemprop="name">Jin Zhang</span>
            </span>

            <span>
        
          
          <a class="post-tag" href="/blog/tag/blog"><nobr>blog</nobr>&nbsp;</a>
        
          
          <a class="post-tag" href="/blog/tag/html"><nobr>html</nobr>&nbsp;</a>
        
      </span>

            <!-- <span class="share-buttons">
        <span class="share-button"><a class="twitter-share-button" href="https://twitter.com/share" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></span>

        <span class="share-button"><span class="fb-like" data-href="/2021/07/21/introduction.html" data-layout="button_count" data-action="like" data-size="small" data-show-faces="false" data-share="true"></span></span>
      </span> -->
            <div style="clear: both;" />


        </p>
    </header>

    <div class="post-content" itemprop="articleBody">
        <blockquote>
  <p>本文主要介绍了这个博客的搭建过程。</p>
</blockquote>

<!--more-->

<ul class="table-of-content" id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#博客搭建" id="markdown-toc-博客搭建">博客搭建</a>    <ul>
      <li><a href="#安装jekyll" id="markdown-toc-安装jekyll">安装Jekyll</a></li>
      <li><a href="#运行jekyll" id="markdown-toc-运行jekyll">运行Jekyll</a></li>
    </ul>
  </li>
  <li><a href="#效果测试" id="markdown-toc-效果测试">效果测试</a>    <ul>
      <li><a href="#表格" id="markdown-toc-表格">表格</a></li>
      <li><a href="#语法高亮" id="markdown-toc-语法高亮">语法高亮</a></li>
      <li><a href="#公式" id="markdown-toc-公式">公式</a></li>
    </ul>
  </li>
  <li><a href="#其他问题" id="markdown-toc-其他问题">其他问题</a>    <ul>
      <li><a href="#插入图片" id="markdown-toc-插入图片">插入图片</a></li>
      <li><a href="#插入目录" id="markdown-toc-插入目录">插入目录</a></li>
    </ul>
  </li>
</ul>

<h2 id="前言">前言</h2>

<p>为什么要辛辛苦苦自己搭建一个博客呢，主要还是考虑到兼顾美观和实用性。</p>

<p>我的写作流程主要如下：</p>

<ol>
  <li>
    <p>第一步是写作，使用的书写软件有</p>

    <ul>
      <li>notion</li>
      <li>语雀</li>
      <li>wolai</li>
      <li>typora</li>
      <li>vscode</li>
    </ul>

    <p>其中写作体验最好的是<code class="language-plaintext highlighter-rouge">wolai</code> 和 <code class="language-plaintext highlighter-rouge">typora</code>。</p>
  </li>
  <li>
    <p>写完之后整理修改，然后发布。从笔记的角度来看，notion和wolai无疑都是很好的，但如果从阅读的角度来看，它们又差了点意思。语雀以知识库的形式储存文章，润物细无声地将知识结构化，这给人的阅读体验就非常棒。</p>
  </li>
</ol>

<p>但语雀最大的缺点在于写作体验太差，界面样式太丑。对于第一个问题，我一般在typora上书写，然后复制到语雀上发布，缺点是修改和备份比较麻烦；对于第二个问题，我使用<a href="https://chrome.google.com/webstore/detail/stylus/clngdbkpkpeebahjckkjfobafhncgmne?hl=zh">Stylus 插件</a>，自己写了一个css样式如下，具体可以看我的博客：<a href="https://www.yuque.com/hhjs/zj/hiyw4z">语雀样式美化</a>，修改之后显示效果倒也还行。</p>

<p>然而语雀更大的问题在于对数学公式的支持太差，除了输入很不方便以外，在windows上的显示也很差劲，无论是web端还是桌面端，公式与正常文字永远都对不齐。由于公式都是用SVG显示，导致我想自己修改也无能为力（也许可以通过修改css实现），这对于数学系的我来说无疑是一个暴击。</p>

<p>最后思来想去，还是用GitHub+markdown的形式比较好，修改和同步都非常方便，在此基础上自动生成博客也方便浏览，最重要的是不用操心图床，域名和服务器的问题。</p>

<ul>
  <li>Hexo：我之前使用Hexo搭建了博客，但Hexo每次发布之前要输一堆指令，用CL自动化又颇为麻烦，中间徒增一些不稳定因素。</li>
  <li>Hugo：Hugo是一个不错的选择，但暂时还不太熟悉。</li>
  <li>Mkdocs：<a href="https://oi-wiki.org/">OI Wiki</a> 就是用其搭建的，但这种形式对内容的结构化要求非常高，一些日常笔记放上去会显得不伦不类。</li>
  <li>Jekyll：综合来说这个是最满足要求的，优点是历史悠久比较完善，主题也丰富。缺点是速度比较慢。但最重要的是与GitHub Page无缝衔接，用起来就很舒服。</li>
</ul>

<p>选择完之后，就是博客的搭建过程。对于主题的选择，我比较喜欢 <a href="https://lilianweng.github.io/lil-log/">Lil’Log</a> 的样式，因此 fork 下来之后就直接上手修改。</p>

<h2 id="博客搭建">博客搭建</h2>

<h3 id="安装jekyll">安装Jekyll</h3>

<p>参考：</p>

<ul>
  <li><a href="https://zhuanlan.zhihu.com/p/350462079">[Jekyll] macOS 安装 Jekyll - 知乎 (zhihu.com)</a></li>
  <li><a href="https://jekyllrb.com/docs/installation/macos/">Jekyll on macOS  Jekyll • Simple, blog-aware, static sites (jekyllrb.com)</a></li>
</ul>

<p>第一步，安装ruby</p>

<pre><code class="language-Bash">brew install ruby
</code></pre>

<p>安装完之后，会有如下提示，因为mac已经预装了2.6 版本的ruby。</p>

<p><img src="/blog/assets/images/image.png" alt="image" /></p>

<p>因此，我们要将默认的ruby路径改为新版本的，在重启终端之后，可以看到ruby路径已改变。</p>

<pre><code class="language-Bash">echo 'export PATH="/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:$PATH"' &gt;&gt; ~/.zshrc
</code></pre>

<p><img src="/blog/assets/images/image1.png" alt="image1" /></p>

<p>第二步，安装jekyll：</p>

<pre><code class="language-Bash">gem install --user-install bundler jekyll
</code></pre>

<p>将Jekyll添加到路径，注意这里是 <code class="language-plaintext highlighter-rouge">3.0.0</code> 而不是 <code class="language-plaintext highlighter-rouge">3.0.2</code>。</p>

<pre><code class="language-Bash">echo 'export PATH="$HOME/.gem/ruby/3.0.0/bin:$PATH"' &gt;&gt; ~/.zshrc
</code></pre>

<h3 id="运行jekyll">运行Jekyll</h3>

<pre><code class="language-Bash">jekyll new myblog
cd myblog
bundle exec jekyll serve
</code></pre>

<p><img src="/blog/assets/images/image2.png" alt="image2" /></p>

<p>这样 Jekyll 就在本地环境上跑起来了，接下来是进行一些个性化修改，修改过程比较繁琐，这里就略去不提，可以参考以下链接：</p>

<p><a href="https://www.zhihu.com/search?type=content&amp;q=jekyll markdown语法"> jekyll markdown语法 - 搜索结果 - 知乎 (zhihu.com)</a></p>

<p><a href="http://watchzerg.github.io/2015/03/20/jekyll-write-blog.html">博客搭建(四) 使用Jekyll写博客 (watchzerg.github.io)</a></p>

<h2 id="效果测试">效果测试</h2>

<h3 id="表格">表格</h3>

<table>
  <thead>
    <tr>
      <th>AI 框架</th>
      <th>使用人数</th>
      <th>特性</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>tensorflow</td>
      <td>多</td>
      <td>多在工业界使用</td>
    </tr>
    <tr>
      <td>pytorch</td>
      <td>多</td>
      <td>学术圈常用</td>
    </tr>
    <tr>
      <td>paddle</td>
      <td>少</td>
      <td>可以白嫖服务器</td>
    </tr>
  </tbody>
</table>

<h3 id="语法高亮">语法高亮</h3>

<p>这是 <code class="language-plaintext highlighter-rouge">行内代码</code>，this is <code class="language-plaintext highlighter-rouge">inline code</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">torch</span> <span class="k">as</span> <span class="n">tf</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#include &lt;iomanip&gt;
</span><span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">n</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Element"</span> <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">"Value"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">j</span> <span class="o">&lt;&lt;</span> <span class="n">setw</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="公式">公式</h3>
<p>Using Bayes’ rule, we have:</p>

\[\begin{aligned}
q(\mathbf{x}_{t-1} \vert \mathbf{x}_t, \mathbf{x}_0) 
&amp;= q(\mathbf{x}_t \vert \mathbf{x}_{t-1}, \mathbf{x}_0) \frac{ q(\mathbf{x}_{t-1} \vert \mathbf{x}_0) }{ q(\mathbf{x}_t \vert \mathbf{x}_0) } \\
&amp;\propto \exp \Big(-\frac{1}{2} \big(\frac{(\mathbf{x}_t - \sqrt{\alpha_t} \mathbf{x}_{t-1})^2}{\beta_t} + \frac{(\mathbf{x}_{t-1} - \sqrt{\bar{\alpha}_{t-1}} \mathbf{x}_0)^2}{1-\bar{\alpha}_{t-1}} - \frac{(\mathbf{x}_t - \sqrt{\bar{\alpha}_t} \mathbf{x}_0)^2}{1-\bar{\alpha}_t} \big) \Big) \\
&amp;= \exp\Big( -\frac{1}{2} \big( \color{red}{(\frac{\alpha_t}{\beta_t} + \frac{1}{1 - \bar{\alpha}_{t-1}})} \mathbf{x}_{t-1}^2 - \color{blue}{(\frac{2\sqrt{\alpha_t}}{\beta_t} \mathbf{x}_t + \frac{2\sqrt{\bar{\alpha}_t}}{1 - \bar{\alpha}_t} \mathbf{x}_0)} \mathbf{x}_{t-1} + C(\mathbf{x}_t, \mathbf{x}_0) \big) \Big)
\end{aligned}\]

<h2 id="其他问题">其他问题</h2>

<h3 id="插入图片">插入图片</h3>

<p>Jekyll 不能在 <code class="language-plaintext highlighter-rouge">_posts</code> 里新建文件夹，这也意味着插入图片会变得比较困难，参考该链接下的回答：<a href="https://www.zhihu.com/question/31123165">Jekyll博客中如何用相对路径来加载图片？ - 知乎</a>，最好的方式是使用图床，但考虑到图床的不稳定性，也挺麻烦。我采用的方式是先将在typora中设置将图片保存到 <code class="language-plaintext highlighter-rouge">../assets/images</code> 文件夹下，然后发布时统一将其替换成 <code class="language-plaintext highlighter-rouge">/blog/assets/images/diffusion-beta.png</code>，使用正则表达式：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\(\.\./assets/images/(.*)\)

(/blog/assets/images/$1)
</code></pre></div></div>

<h3 id="插入目录">插入目录</h3>

<p>使用如下代码：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{:class="table-of-content"}
* TOC
{:toc}
</code></pre></div></div>


    </div>


    <div class="page-navigation">
         
    </div>

     <div id="disqus_thread"></div>
<script>
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://lilianweng-github-io-lil-log.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>
    Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
 

</article>
      </div>
    </main>

    <div style="clear: both;" />
<footer class="site-footer">
    2021 &copy; by Jin Zhang. All Rights Reserved. Built by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>. | View on <a href="https://github.com/lilianweng/lil-log/tree/gh-pages" target="_blank">Github</a> | <a href="/blog/tags.html">Tags</a>
    <!-- | <a href="/blog/contact.html">Contact</a> | <a href="/blog/FAQ.html">FAQ</a> -->

    <!-- <p>

        <a href="https://github.com/lilianweng" target="_blank">
            <img src="/blog/assets/images/logo_github.png" />
        </a>
    </p> -->
</footer>

  </body>

</html>
